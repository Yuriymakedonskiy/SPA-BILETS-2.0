/*! sifter.js | https://github.com/brianreavis/sifter.js | Apache License (v2) */
!function(t,e){if(typeof define==="function"&&define.amd){define(e)}else if(typeof exports==="object"){module.exports=e()}else{t.Sifter=e()}}(this,function(){var t=function(t,e){this.items=t;this.settings=e||{diacritics:true}};t.prototype.tokenize=function(t){t=r(String(t||"").toLowerCase());if(!t||!t.length)return[];var e,i,s,f;var u=[];var a=t.split(/ +/);for(e=0,i=a.length;e<i;e++){s=n(a[e]);if(this.settings.diacritics){for(f in o){if(o.hasOwnProperty(f)){s=s.replace(new RegExp(f,"g"),o[f])}}}u.push({string:a[e],regex:new RegExp(s,"i")})}return u};t.prototype.iterator=function(t,e){var r;if(i(t)){r=Array.prototype.forEach||function(t){for(var e=0,r=this.length;e<r;e++){t(this[e],e,this)}}}else{r=function(t){for(var e in this){if(this.hasOwnProperty(e)){t(this[e],e,this)}}}}r.apply(t,[e])};t.prototype.getScoreFunction=function(t,e){var r,t;r=this;t=r.prepareSearch(t,e);tokens=t.tokens;var n=function(){if(!tokens.length){return function(){return 0}}else if(tokens.length===1){return function(t){var e,r;t=String(t||"").toLowerCase();r=t.search(tokens[0].regex);if(r===-1)return 0;e=tokens[0].string.length/t.length;if(r===0)e+=.5;return e}}else{return function(t){var e,r,n,i;t=String(t||"").toLowerCase();e=0;for(n=0,i=tokens.length;n<i;n++){r=t.search(tokens[n].regex);if(r===-1)continue;if(r===0)e+=.5;e+=tokens[n].string.length/t.length}return e/tokens.length}}}();var i=function(){var e=t.options.fields;if(!e||!e.length){return function(){return 0}}else if(e.length===1){var r=e[0];return function(t){if(!t.hasOwnProperty(r))return 0;return n(t[r])}}else{return function(t){var r=0;var i=0;for(var o=0,s=e.length;o<s;o++){if(t.hasOwnProperty(e[o])){i+=n(t[e[o]]);r++}}return i/r}}}();return i};t.prototype.prepareSearch=function(t,r){if(typeof t==="object")return t;return{options:e({},r),query:String(t||"").toLowerCase(),tokens:this.tokenize(t),total:0,items:[]}};t.prototype.search=function(t,e){var r=this,n,o,s,f;s=this.prepareSearch(t,e);e=s.options;t=s.query;if(!i(e.fields))e.fields=[e.fields];f=e.score||r.getScoreFunction(s);if(t.length){r.iterator(r.items,function(t,e){o=f(t);if(o>0){s.items.push({score:o,id:e})}});s.items.sort(function(t,e){return e.score-t.score})}else{r.iterator(r.items,function(t,e){s.items.push({score:1,id:e})});if(e.sort){s.items.sort(function(){var t=e.sort;var n=e.direction==="desc"?-1:1;return function(e,i){e=e&&String(r.items[e.id][t]||"").toLowerCase();i=i&&String(r.items[i.id][t]||"").toLowerCase();if(e>i)return 1*n;if(i>e)return-1*n;return 0}}())}}s.total=s.items.length;if(typeof e.limit==="number"){s.items=s.items.slice(0,e.limit)}return s};var e=function(t,e){var r,n,i,o;for(r=1,n=arguments.length;r<n;r++){o=arguments[r];if(!o)continue;for(i in o){if(o.hasOwnProperty(i)){t[i]=o[i]}}}return t};var r=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")};var n=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")};var i=Array.isArray||$&&$.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};var o={a:"[a\xc0\xc1\xc2\xc3\xc4\xc5\xe0\xe1\xe2\xe3\xe4\xe5]",c:"[c\xc7\xe7]",e:"[e\xc8\xc9\xca\xcb\xe8\xe9\xea\xeb]",i:"[i\xcc\xcd\xce\xcf\xec\xed\xee\xef]",n:"[n\xd1\xf1]",o:"[o\xd2\xd3\xd4\xd5\xd5\xd6\xd8\xf2\xf3\xf4\xf5\xf6\xf8]",s:"[s\u0160\u0161]",u:"[u\xd9\xda\xdb\xdc\xf9\xfa\xfb\xfc]",y:"[y\u0178\xff\xfd]",z:"[z\u017d\u017e]"};return t});